---
title: "Geometric Morphometrics"
output: html_notebook
---
Read CSV, Load all packages And Configure Analysis
```{r}
# read packages
source('GeneralizedProcrustesAnalysis.R')

#read csv
df = read.csv("combined_tracings.csv")

#configure surface and species
species = readline(prompt="Will this be a human, macaque, or combined analysis?")
if (species == 'human' || species == 'macaque') {
  df = df[df$gm_or_wm == surface,]
}

surface = readline(prompt="Chose gray matter (pi) or white matter (wh)")
df = df[df$gm_or_wm == surface,]

```
Handle Outliers
```{r}
OUTLIERS = list('18_92months_human', '17_78months_human', '19_9months_human', '24_87months_human', '25_89months_human', '25_1month_macaque', '14_20month_human')
df = excludeOutliers(df, OUTLIERS)
```
Resample Sulci to 100 Points and Run Procrustes Analysis
```{r}
num = readline(prompt="How many landmarks are there?")

resampled = resampleCurves(df, surface, getSulci(surface, species))
data = transformToArray(resampled, num)

GPA = prcrustes(num, data)
plot3d(GPA$consensus)
```
Now, click the **Run** button on the chunk toolbar to [execute](https://www.jetbrains.com/help/pycharm/r-markdown.html#run-r-code) the chunk code. The result should be placed under the chunk.
Click the **Knit and Open Document** to build and preview an output.
